/*! For license information please see 90185.1iHNm9G1gus.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[90185],{58014:function(t,e,n){function o(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(r(n,e))return n;n=n.parentElement}return null}function r(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}n.d(e,{oq:function(){return o},wB:function(){return r}})},20210:function(t,e,n){var o,r,i,a,c=n(33368),s=n(71650),d=n(69205),l=n(70906),u=n(43204),p=n(95260),h=n(88962),f=(n(27763),n(38103)),m=n(98734),v=n(68144),b=n(30153),g=function(t){(0,d.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.apply(this,arguments)).disabled=!1,t.icon="",t.shouldRenderRipple=!1,t.rippleHandlers=new m.A((function(){return t.shouldRenderRipple=!0,t.ripple})),t}return(0,c.Z)(n,[{key:"renderRipple",value:function(){return this.shouldRenderRipple?(0,v.dy)(o||(o=(0,h.Z)([' <mwc-ripple .disabled="','" unbounded> </mwc-ripple>'])),this.disabled):""}},{key:"focus",value:function(){var t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}},{key:"blur",value:function(){var t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}},{key:"render",value:function(){return(0,v.dy)(r||(r=(0,h.Z)(['<button class="mdc-icon-button mdc-icon-button--display-flex" aria-label="','" aria-haspopup="','" ?disabled="','" @focus="','" @blur="','" @mousedown="','" @mouseenter="','" @mouseleave="','" @touchstart="','" @touchend="','" @touchcancel="','">'," "," <span><slot></slot></span> </button>"])),this.ariaLabel||this.icon,(0,b.o)(this.ariaHasPopup),this.disabled,this.handleRippleFocus,this.handleRippleBlur,this.handleRippleMouseDown,this.handleRippleMouseEnter,this.handleRippleMouseLeave,this.handleRippleTouchStart,this.handleRippleDeactivate,this.handleRippleDeactivate,this.renderRipple(),this.icon?(0,v.dy)(i||(i=(0,h.Z)(['<i class="material-icons">',"</i>"])),this.icon):"")}},{key:"handleRippleMouseDown",value:function(t){var e=this;window.addEventListener("mouseup",(function t(){window.removeEventListener("mouseup",t),e.handleRippleDeactivate()})),this.rippleHandlers.startPress(t)}},{key:"handleRippleTouchStart",value:function(t){this.rippleHandlers.startPress(t)}},{key:"handleRippleDeactivate",value:function(){this.rippleHandlers.endPress()}},{key:"handleRippleMouseEnter",value:function(){this.rippleHandlers.startHover()}},{key:"handleRippleMouseLeave",value:function(){this.rippleHandlers.endHover()}},{key:"handleRippleFocus",value:function(){this.rippleHandlers.startFocus()}},{key:"handleRippleBlur",value:function(){this.rippleHandlers.endFocus()}}]),n}(v.oi);(0,u.__decorate)([(0,p.Cb)({type:Boolean,reflect:!0})],g.prototype,"disabled",void 0),(0,u.__decorate)([(0,p.Cb)({type:String})],g.prototype,"icon",void 0),(0,u.__decorate)([f.L,(0,p.Cb)({type:String,attribute:"aria-label"})],g.prototype,"ariaLabel",void 0),(0,u.__decorate)([f.L,(0,p.Cb)({type:String,attribute:"aria-haspopup"})],g.prototype,"ariaHasPopup",void 0),(0,u.__decorate)([(0,p.IO)("button")],g.prototype,"buttonElement",void 0),(0,u.__decorate)([(0,p.GC)("mwc-ripple")],g.prototype,"ripple",void 0),(0,u.__decorate)([(0,p.SB)()],g.prototype,"shouldRenderRipple",void 0),(0,u.__decorate)([(0,p.hO)({passive:!0})],g.prototype,"handleRippleMouseDown",null),(0,u.__decorate)([(0,p.hO)({passive:!0})],g.prototype,"handleRippleTouchStart",null);var y=(0,v.iv)(a||(a=(0,h.Z)(['.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:400;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{display:none}.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block;max-height:48px;max-width:48px}@media screen and (forced-colors:active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{pointer-events:none;border:2px solid transparent;border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%;width:100%}}@media screen and (forced-colors:active)and (forced-colors:active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{border-color:CanvasText}}@media screen and (forced-colors:active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{content:"";border:2px solid transparent;border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:calc(100% + 4px);width:calc(100% + 4px)}}@media screen and (forced-colors:active)and (forced-colors:active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring::after,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button.mdc-icon-button--reduced-size:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}.mdc-icon-button:disabled{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-disabled-on-light,rgba(0,0,0,.38))}.mdc-icon-button img,.mdc-icon-button svg{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:0;background-color:transparent;fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:0;position:absolute;top:0;width:100%}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:0;background-color:transparent;fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:0;position:absolute;top:0;width:100%}:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}.mdc-icon-button ::slotted(*),.mdc-icon-button i,.mdc-icon-button img,.mdc-icon-button svg{display:block}:host{--mdc-ripple-color:currentcolor;-webkit-tap-highlight-color:transparent}.mdc-icon-button,:host{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size,48px);height:var(--mdc-icon-button-size,48px);padding:calc((var(--mdc-icon-button-size,48px) - var(--mdc-icon-size,24px))/ 2)}.mdc-icon-button ::slotted(*),.mdc-icon-button i,.mdc-icon-button img,.mdc-icon-button svg{display:block;width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}']))),x=function(t){(0,d.Z)(n,t);var e=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,c.Z)(n)}(g);x.styles=[y],x=(0,u.__decorate)([(0,p.Mo)("mwc-icon-button")],x)},22098:function(t,e,n){var o,r,i,a=n(88962),c=n(33368),s=n(71650),d=n(82390),l=n(69205),u=n(70906),p=n(91808),h=(n(97393),n(68144)),f=n(95260);(0,p.Z)([(0,f.Mo)("ha-card")],(function(t,e){var n=function(e){(0,l.Z)(o,e);var n=(0,u.Z)(o);function o(){var e;(0,s.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,d.Z)(e)),e}return(0,c.Z)(o)}(e);return{F:n,d:[{kind:"field",decorators:[(0,f.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(o||(o=(0,a.Z)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}"])))}},{kind:"method",key:"render",value:function(){return(0,h.dy)(r||(r=(0,a.Z)([" "," <slot></slot> "])),this.header?(0,h.dy)(i||(i=(0,a.Z)(['<h1 class="card-header">',"</h1>"])),this.header):h.Ld)}}]}}),h.oi)},31206:function(t,e,n){n.r(e),n.d(e,{HaCircularProgress:function(){return v}});var o,r=n(88962),i=n(33368),a=n(71650),c=n(82390),s=n(69205),d=n(70906),l=n(91808),u=n(34541),p=n(47838),h=(n(97393),n(30879)),f=n(68144),m=n(95260),v=(0,l.Z)([(0,m.Mo)("ha-circular-progress")],(function(t,e){var n=function(e){(0,s.Z)(o,e);var n=(0,d.Z)(o);function o(){var e;(0,a.Z)(this,o);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=n.call.apply(n,[this].concat(i)),t((0,c.Z)(e)),e}return(0,i.Z)(o)}(e);return{F:n,d:[{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"active",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)()],key:"alt",value:function(){return"Loading"}},{kind:"field",decorators:[(0,m.Cb)()],key:"size",value:function(){return"medium"}},{kind:"set",key:"density",value:function(t){}},{kind:"get",key:"density",value:function(){switch(this.size){case"tiny":return-8;case"small":return-5;case"medium":default:return 0;case"large":return 5}}},{kind:"set",key:"indeterminate",value:function(t){}},{kind:"get",key:"indeterminate",value:function(){return this.active}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,u.Z)((0,p.Z)(n),"styles",this),(0,f.iv)(o||(o=(0,r.Z)([":host{overflow:hidden}"])))]}}]}}),h.D)},36125:function(t,e,n){var o,r,i,a=n(88962),c=n(33368),s=n(71650),d=n(82390),l=n(69205),u=n(70906),p=n(91808),h=n(34541),f=n(47838),m=(n(97393),n(48095)),v=n(72477),b=n(95260),g=n(68144),y=n(30418);(0,p.Z)([(0,b.Mo)("ha-fab")],(function(t,e){var n=function(e){(0,l.Z)(o,e);var n=(0,u.Z)(o);function o(){var e;(0,s.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,d.Z)(e)),e}return(0,c.Z)(o)}(e);return{F:n,d:[{kind:"method",key:"firstUpdated",value:function(t){(0,h.Z)((0,f.Z)(n.prototype),"firstUpdated",this).call(this,t),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:function(){return[v.W,(0,g.iv)(o||(o=(0,a.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}"]))),"rtl"===y.E.document.dir?(0,g.iv)(r||(r=(0,a.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,g.iv)(i||(i=(0,a.Z)([""])))]}}]}}),m._)},65253:function(t,e,n){n.d(e,{CE:function(){return a},FH:function(){return p},Nq:function(){return d},Pb:function(){return i},fm:function(){return u},h8:function(){return l},r4:function(){return s},uh:function(){return c}});var o=n(99312),r=n(81043),i=(n(85717),n(91989),n(46349),n(70320),n(17692),n(11451),n(36513),"system-admin"),a="system-users",c=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(e){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/list"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(e,n,r,i){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/create",name:n,group_ids:r,local_only:i}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,o,r){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(e,n,r){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS(Object.assign(Object.assign({},r),{},{type:"config/auth/update",user_id:n})));case 1:case"end":return t.stop()}}),t)})));return function(e,n,o){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)((0,o.Z)().mark((function t(e,n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"config/auth/delete",user_id:n}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(t){return t?t.trim().split(" ").slice(0,3).map((function(t){return t.substring(0,1)})).join(""):"?"},p=function(t,e,n){var o=[],r=function(e){return t.localize("ui.panel.config.users.".concat(e))};return e.is_owner&&o.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",r("is_owner")]),n&&e.system_generated&&o.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",r("is_system")]),e.local_only&&o.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",r("is_local")]),e.is_active||o.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",r("is_not_active")]),o}},15291:function(t,e,n){n.r(e);var o,r,i,a,c,s,d=n(88962),l=n(33368),u=n(71650),p=n(82390),h=n(69205),f=n(70906),m=n(91808),v=(n(97393),n(68144)),b=n(95260),g=(n(31206),n(2315),n(48932),n(11654));(0,m.Z)([(0,b.Mo)("hass-loading-screen")],(function(t,e){var n=function(e){(0,h.Z)(o,e);var n=(0,f.Z)(o);function o(){var e;(0,u.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,p.Z)(e)),e}return(0,l.Z)(o)}(e);return{F:n,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Boolean,attribute:"no-toolbar"})],key:"noToolbar",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"rootnav",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)()],key:"message",value:void 0},{kind:"method",key:"render",value:function(){var t;return(0,v.dy)(o||(o=(0,d.Z)([" ",' <div class="content"> <ha-circular-progress active></ha-circular-progress> '," </div> "])),this.noToolbar?"":(0,v.dy)(r||(r=(0,d.Z)(['<div class="toolbar"> '," </div>"])),this.rootnav||null!==(t=history.state)&&void 0!==t&&t.root?(0,v.dy)(i||(i=(0,d.Z)([' <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow):(0,v.dy)(a||(a=(0,d.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._handleBack)),this.message?(0,v.dy)(c||(c=(0,d.Z)(['<div id="loading-text">',"</div>"])),this.message):v.Ld)}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[g.Qx,(0,v.iv)(s||(s=(0,d.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}"])))]}}]}}),v.oi)},88165:function(t,e,n){var o,r,i=n(88962),a=n(33368),c=n(71650),s=n(82390),d=n(69205),l=n(70906),u=n(91808),p=(n(97393),n(68144)),h=n(95260),f=n(83448);(0,u.Z)([(0,h.Mo)("ha-config-section")],(function(t,e){var n=function(e){(0,d.Z)(o,e);var n=(0,l.Z)(o);function o(){var e;(0,c.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,s.Z)(e)),e}return(0,a.Z)(o)}(e);return{F:n,d:[{kind:"field",decorators:[(0,h.Cb)()],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean})],key:"vertical",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean,attribute:"full-width"})],key:"fullWidth",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,p.dy)(o||(o=(0,i.Z)([' <div class="content ','"> <div class="header"><slot name="header"></slot></div> <div class="together layout ','"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> '])),(0,f.$)({narrow:!this.isWide,"full-width":this.fullWidth}),(0,f.$)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.iv)(r||(r=(0,i.Z)([":host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.together{margin-top:32px}.intro{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height);width:100%;opacity:var(--dark-primary-opacity);font-size:14px;padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:20px}.narrow .intro{padding-bottom:20px;margin-right:0;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}"])))}}]}}),p.oi)},43329:function(t,e,n){n.r(e);var o,r,i,a,c,s,d,l,u,p,h,f=n(40039),m=n(99312),v=n(81043),b=n(88962),g=n(33368),y=n(71650),x=n(82390),_=n(69205),k=n(70906),w=n(91808),Z=n(34541),z=n(47838),C=(n(97393),n(46349),n(70320),n(22859),n(37313),n(40271),n(60163),n(85472),n(46798),n(9849),n(90126),n(51358),n(78399),n(5239),n(56086),n(47884),n(81912),n(64584),n(41483),n(12367),n(9454),n(98490),n(87438),n(22890),n(25782),n(89194),n(68144)),H=n(95260),I=n(85415),R=(n(22098),n(36125),n(52039),n(83448)),M=n(47501),L=n(65253),S=((0,w.Z)([(0,H.Mo)("ha-person-badge")],(function(t,e){var n=function(e){(0,_.Z)(o,e);var n=(0,k.Z)(o);function o(){var e;(0,y.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,x.Z)(e)),e}return(0,g.Z)(o)}(e);return{F:n,d:[{kind:"field",decorators:[(0,H.Cb)({attribute:!1})],key:"person",value:void 0},{kind:"method",key:"render",value:function(){if(!this.person)return C.Ld;var t=this.person.picture;if(t)return(0,C.dy)(o||(o=(0,b.Z)(['<div style="','" class="picture"></div>'])),(0,M.V)({backgroundImage:"url(".concat(t,")")}));var e=(0,L.fm)(this.person.name);return(0,C.dy)(r||(r=(0,b.Z)(['<div class="initials ','"> '," </div>"])),(0,R.$)({long:e.length>2}),e)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,C.iv)(i||(i=(0,b.Z)([":host{width:40px;height:40px;display:block}.picture{width:100%;height:100%;background-size:cover;border-radius:50%}.initials{display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;width:100%;height:100%;border-radius:50%;background-color:var(--light-primary-color);text-decoration:none;color:var(--text-light-primary-color,var(--primary-text-color));overflow:hidden;font-size:var(--person-badge-font-size, 1em)}.initials.long{font-size:80%}"])))}}]}}),C.oi),n(47084),n(51467),n(85717),n(83609),function(t,e){return t.callWS(Object.assign({type:"person/create"},e))}),A=n(26765),E=(n(15291),n(49703),n(27322)),V=(n(88165),n(29311)),D=n(47181),W=function(){return Promise.all([n.e(42850),n.e(46992),n.e(79071),n.e(3298),n.e(28597),n.e(50731),n.e(82692),n.e(40274),n.e(81312),n.e(40163),n.e(74535),n.e(3143),n.e(7083),n.e(45970),n.e(55052),n.e(62940)]).then(n.bind(n,32589))},B=(0,w.Z)(null,(function(t,e){var n,o,r=function(e){(0,_.Z)(o,e);var n=(0,k.Z)(o);function o(){var e;(0,y.Z)(this,o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),t((0,x.Z)(e)),e}return(0,g.Z)(o)}(e);return{F:r,d:[{kind:"field",decorators:[(0,H.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,H.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,H.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,H.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,H.SB)()],key:"_storageItems",value:void 0},{kind:"field",decorators:[(0,H.SB)()],key:"_configItems",value:void 0},{kind:"field",key:"_usersLoad",value:void 0},{kind:"method",key:"render",value:function(){var t=this;if(!this.hass||void 0===this._storageItems||void 0===this._configItems)return(0,C.dy)(a||(a=(0,b.Z)([" <hass-loading-screen></hass-loading-screen> "])));var e=this.hass;return(0,C.dy)(c||(c=(0,b.Z)([' <hass-tabs-subpage .hass="','" .narrow="','" .route="','" back-path="/config" .tabs="','"> <ha-config-section .isWide="','"> <span slot="header">','</span> <span slot="introduction"> <p>',"</p> ",' <a href="','" target="_blank" rel="noreferrer"> ',' </a> </span> <ha-card outlined class="storage"> '," "," </ha-card> ",' </ha-config-section> <ha-fab slot="fab" .label="','" extended @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> </hass-tabs-subpage> '])),this.hass,this.narrow,this.route,V.configSections.persons,this.isWide,e.localize("ui.panel.config.person.caption"),e.localize("ui.panel.config.person.introduction"),this._configItems.length>0?(0,C.dy)(s||(s=(0,b.Z)([" <p> "," </p> "])),e.localize("ui.panel.config.person.note_about_persons_configured_in_yaml")):"",(0,E.R)(this.hass,"/integrations/person/"),this.hass.localize("ui.panel.config.person.learn_more"),this._storageItems.map((function(e){return(0,C.dy)(d||(d=(0,b.Z)([' <paper-icon-item @click="','" .entry="','"> <ha-person-badge slot="item-icon" .person="','"></ha-person-badge> <paper-item-body> '," </paper-item-body> </paper-icon-item> "])),t._openEditEntry,e,e,e.name)})),0===this._storageItems.length?(0,C.dy)(l||(l=(0,b.Z)([' <div class="empty"> ',' <mwc-button @click="','"> ',"</mwc-button> </div> "])),e.localize("ui.panel.config.person.no_persons_created_yet"),this._createPerson,e.localize("ui.panel.config.person.create_person")):C.Ld,this._configItems.length>0?(0,C.dy)(u||(u=(0,b.Z)([' <ha-card outlined header="Configuration.yaml persons"> '," </ha-card> "])),this._configItems.map((function(t){return(0,C.dy)(p||(p=(0,b.Z)([' <paper-icon-item> <ha-person-badge slot="item-icon" .person="','"></ha-person-badge> <paper-item-body> '," </paper-item-body> </paper-icon-item> "])),t,t.name)}))):"",e.localize("ui.panel.config.person.add_person"),this._createPerson,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z")}},{kind:"method",key:"firstUpdated",value:function(t){(0,Z.Z)((0,z.Z)(r.prototype),"firstUpdated",this).call(this,t),this._fetchData(),W()}},{kind:"method",key:"_fetchData",value:(o=(0,v.Z)((0,m.Z)().mark((function t(){var e,n=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._usersLoad=(0,L.uh)(this.hass),t.next=3,this.hass.callWS({type:"person/list"});case 3:e=t.sent,this._storageItems=e.storage.sort((function(t,e){return(0,I.$)(t.name,e.name,n.hass.locale.language)})),this._configItems=e.config.sort((function(t,e){return(0,I.$)(t.name,e.name,n.hass.locale.language)})),this._openDialogIfPersonSpecifiedInRoute();case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{kind:"method",key:"_openDialogIfPersonSpecifiedInRoute",value:function(){if(this.route.path.includes("/edit/")){var t=this.route.path.split("/edit/"),e=t.length>1?t[1]:null;if(e){var n,o,r=this._storageItems.find((function(t){return t.id===e}));if(r)this._openDialog(r);else(0,A.showAlertDialog)(this,{title:null===(n=this.hass)||void 0===n?void 0:n.localize("ui.panel.config.person.person_not_found_title"),text:null===(o=this.hass)||void 0===o?void 0:o.localize("ui.panel.config.person.person_not_found")})}}}},{kind:"method",key:"_createPerson",value:function(){this._openDialog()}},{kind:"method",key:"_openEditEntry",value:function(t){var e=t.currentTarget.entry;this._openDialog(e)}},{kind:"method",key:"_allowedUsers",value:function(t,e){for(var n=new Set,o=0,r=[this._configItems,this._storageItems];o<r.length;o++){var i,a=r[o],c=(0,f.Z)(a);try{for(c.s();!(i=c.n()).done;){var s=i.value;s.user_id&&n.add(s.user_id)}}catch(l){c.e(l)}finally{c.f()}}var d=e?e.user_id:void 0;return t.filter((function(t){return t.id===d||!n.has(t.id)}))}},{kind:"method",key:"_openDialog",value:(n=(0,v.Z)((0,m.Z)().mark((function t(e){var n,o=this;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._usersLoad;case 2:n=t.sent,r=this,i={entry:e,users:this._allowedUsers(n,e),createEntry:function(){var t=(0,v.Z)((0,m.Z)().mark((function t(e){var n;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(o.hass,e);case 2:n=t.sent,o._storageItems=o._storageItems.concat(n).sort((function(t,e){return(0,I.$)(t.name,e.name,o.hass.locale.language)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),updateEntry:function(){var t=(0,v.Z)((0,m.Z)().mark((function t(n){var r;return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i=o.hass,a=e.id,c=n,i.callWS(Object.assign({type:"person/update",person_id:a},c));case 2:r=t.sent,o._storageItems=o._storageItems.map((function(t){return t===e?r:t}));case 4:case"end":return t.stop()}var i,a,c}),t)})));return function(e){return t.apply(this,arguments)}}(),removeEntry:function(){var t=(0,v.Z)((0,m.Z)().mark((function t(){return(0,m.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,A.showConfirmationDialog)(o,{title:o.hass.localize("ui.panel.config.person.confirm_delete_title",{name:e.name}),text:o.hass.localize("ui.panel.config.person.confirm_delete_text"),dismissText:o.hass.localize("ui.common.cancel"),confirmText:o.hass.localize("ui.common.delete"),destructive:!0});case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.prev=4,t.next=7,n=o.hass,r=e.id,n.callWS({type:"person/delete",person_id:r});case 7:return o._storageItems=o._storageItems.filter((function(t){return t!==e})),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",!1);case 14:case"end":return t.stop()}var n,r}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}(),refreshUsers:function(){o._usersLoad=(0,L.uh)(o.hass)}},(0,D.B)(r,"show-dialog",{dialogTag:"dialog-person-detail",dialogImport:W,dialogParams:i});case 4:case"end":return t.stop()}var r,i}),t,this)}))),function(t){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,C.iv)(h||(h=(0,b.Z)(["a{color:var(--primary-color)}ha-card{max-width:600px;margin:16px auto;overflow:hidden}.empty{padding:8px;display:flex;align-items:center;justify-content:space-around}paper-icon-item{padding-top:4px;padding-bottom:4px}ha-card.storage paper-icon-item{cursor:pointer}"])))}}]}}),C.oi);customElements.define("ha-config-person",B)},27322:function(t,e,n){n.d(e,{R:function(){return o}});var o=function(t,e){return"https://www.iobroker.net/#".concat(t.language&&t.language.split("-")[0]||"en","/adapters/adapterref/iobroker.lovelace/README.md#")}},6057:function(t,e,n){var o=n(35449),r=n(17460),i=n(97673),a=n(10228),c=n(54053),s=Math.min,d=[].lastIndexOf,l=!!d&&1/[1].lastIndexOf(1,-0)<0,u=c("lastIndexOf"),p=l||!u;t.exports=p?function(t){if(l)return o(d,this,arguments)||0;var e=r(this),n=a(e),c=n-1;for(arguments.length>1&&(c=s(c,i(arguments[1]))),c<0&&(c=n+c);c>=0;c--)if(c in e&&e[c]===t)return c||0;return-1}:d},14265:function(t,e,n){var o=n(55418),r=n(43313),i=n(11336),a=/"/g,c=o("".replace);t.exports=function(t,e,n,o){var s=i(r(t)),d="<"+e;return""!==n&&(d+=" "+n+'="'+c(i(o),a,"&quot;")+'"'),d+">"+s+"</"+e+">"}},24089:function(t,e,n){var o=n(18431);t.exports=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},26349:function(t,e,n){var o=n(68077),r=n(6057);o({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},80641:function(t,e,n){var o=n(68077),r=n(14265);o({target:"String",proto:!0,forced:n(24089)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},18098:function(t,e,n){var o=n(43173),r=n(37374),i=n(22933),a=n(59317),c=n(97142),s=n(11336),d=n(43313),l=n(54339),u=n(18513),p=n(94448);r("match",(function(t,e,n){return[function(e){var n=d(this),r=a(e)?void 0:l(e,t);return r?o(r,e,n):new RegExp(e)[t](s(n))},function(t){var o=i(this),r=s(t),a=n(e,o,r);if(a.done)return a.value;if(!o.global)return p(o,r);var d=o.unicode;o.lastIndex=0;for(var l,h=[],f=0;null!==(l=p(o,r));){var m=s(l[0]);h[f]=m,""===m&&(o.lastIndex=u(r,c(o.lastIndex),d)),f++}return 0===f?null:h}]}))},47501:function(t,e,n){n.d(e,{V:function(){return o.V}});var o=n(84298)}}]);
//# sourceMappingURL=90185.1iHNm9G1gus.js.map